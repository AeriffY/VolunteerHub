**有的比如取消活动按钮的显示前端已经作了逻辑判断**
`@if($activity->status != 'cancelled' && $activity->status != 'completed')` 
**后端可考虑不写**

| 文件名/用途 | 变量名 (PHP) | 类型 | 详细要求 (数据来源及计算逻辑) |
| :---- | :---- | :---- | :---- |
| activities/show.blade.php | $activity | Activity Model | 核心活动数据。必须 Eager Load (with('creator')) 以获取 $activity-\>creator-\>name。所有时间字段（如 start\_time）必须是 Carbon 实例。 |
|  | $registration | Registration Model 或 null | 【衍生状态】 当前登录用户对 $activity 的报名记录。如果已报名，返回包含 id 和 status 的 Registration 对象；否则返回 null。 |
|  | $canCheckin | Boolean | 【衍生状态】 当前用户是否可以签到。逻辑： $registration 存在且状态为 'registered'，并且活动当前处于可签到时间段内。 |
| activities/index.blade.php | $activities | Collection/Paginator | 活动列表（活动广场）。确保时间字段是 Carbon 实例，以便调用 diffForHumans() 和 format()。 |
| admin/activities/index.blade.php | $activities | Collection/Paginator | 管理端活动列表。需要包含分页信息 ($activities-\>links())。 |
|  | session('success') | String | 依赖 Laravel Session Flash Data。用于显示操作成功提示。 |
|  | session('warning') | String | 依赖 Laravel Session Flash Data。用于显示操作警告提示。 |
|  | session('error’') | String | 依赖 Laravel Session Flash Data。用于显示操作错误提示 |
| admin/activities/edit.blade.php | $activity | Activity Model | 要编辑的活动实例。用于页面标题和表单数据填充。 |
| admin/activities/\_form.blade.php | $activity | Activity Model 或 null | 【局部视图变量】 在 edit 页面由 Controller 传入，在 create 页面可以传入 null 或空模型。用于表单字段的默认值填充 ($activity-\>title ?? '')。 |
| checkin/create.blade.php (签到) | $activity | Activity Model | 当前要进行签到的活动实例。用于页面头部展示活动标题。 |
| profile/show/.blade.php | $hours | Hours Model | 志愿时长相关字段 |
|  | $registration | Registration Model 或 null | 【衍生状态】 当前登录用户对 $activity 的报名记录。如果已报名，返回包含 id 和 status 的 Registration 对象；否则返回 null。 |

